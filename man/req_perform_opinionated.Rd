% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/req_perform_opinionated.R
\name{req_perform_opinionated}
\alias{req_perform_opinionated}
\title{Perform a request with opinionated defaults}
\usage{
req_perform_opinionated(
  req,
  ...,
  next_req = choose_pagination_fn(req),
  max_reqs = 2,
  max_tries_per_req = 3
)
}
\arguments{
\item{req}{The first \link[httr2]{request} to perform.}

\item{...}{These dots are for future extensions and must be empty.}

\item{next_req}{An optional function that takes the previous response
(\code{resp}) to generate the next request in a call to
\code{\link[httr2:req_perform_iterative]{httr2::req_perform_iterative()}}. This function can usually be generated
using one of the iteration helpers described in
\code{\link[httr2:iterate_with_offset]{httr2::iterate_with_offset()}}. By default, \code{\link[=choose_pagination_fn]{choose_pagination_fn()}} is
used to check for a pagination policy (see \code{\link[=req_pagination_policy]{req_pagination_policy()}}),
and returns \code{NULL} if no such policy is defined.}

\item{max_reqs}{The maximum number of separate requests to perform. Passed to
the max_reqs argument of \code{\link[httr2:req_perform_iterative]{httr2::req_perform_iterative()}} when \code{next_req}
is supplied. You will mostly likely want to change the default value (\code{2})
to \code{Inf} after you validate that the request works.}

\item{max_tries_per_req}{The maximum number of times to attempt each
individual request. Passed to the \code{max_tries} argument of
\code{\link[httr2:req_retry]{httr2::req_retry()}}.}
}
\value{
A list of \code{\link[httr2:response]{httr2::response()}} objects, one for each request
performed. The list has additional class \code{nectar_responses}.
}
\description{
This function ensures that a request has \code{\link[httr2:req_retry]{httr2::req_retry()}} applied, and
then performs the request, using either \code{\link[httr2:req_perform_iterative]{httr2::req_perform_iterative()}} (if
a \code{next_req} function is supplied) or \code{\link[httr2:req_perform]{httr2::req_perform()}} (if not).
}
