% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/call.R
\name{call_api}
\alias{call_api}
\title{Send a request to an API}
\usage{
call_api(
  base_url,
  endpoint,
  query = NULL,
  body = NULL,
  mime_type = NULL,
  method = NULL,
  api_case = c("snake_case", "camelCase", "UpperCamel", "SCREAMING_SNAKE", "alllower",
    "ALLUPPER", "lowerUPPER", "UPPERlower", "Sentence case", "Title Case"),
  api_authenticator = NULL,
  api_authenticator_args = list(),
  api_resp_parser = NULL,
  api_resp_parser_args = list(),
  api_error_handler = NULL,
  api_error_handler_args = list()
)
}
\arguments{
\item{base_url}{The part of the url that is shared by all calls to the API.
In some cases there may be a family of base URLs, from which you will need
to choose one.}

\item{endpoint}{The path to an API endpoint. Optionally, a list with the path
plus variables to \code{\link[glue:glue]{glue::glue()}} into the path.}

\item{query}{An optional list of parameters to pass in the query portion of
the request.}

\item{body}{An object to use as the body of the request. If any component of
the body is a path, pass it through \code{\link[fs:path]{fs::path()}} or otherwise give it the
class "fs_path" to indicate that it is a path.}

\item{mime_type}{A character scalar indicating the mime type of any files
present in the body. Some APIs allow you to leave this as NULL for them to
guess.}

\item{method}{If the method is something other than GET or POST, supply it.
Case is ignored.}

\item{api_case}{The case standard used by this API. The possible values are
self-descriptive. Defaults to "snake_case".}

\item{api_authenticator}{An API-specific authenticator function. More details
to come in a future update to this package.}

\item{api_authenticator_args}{Arguments for the API authenticator function.}

\item{api_resp_parser}{An API-specific response parser function. More details
to come in a future update to this package.}

\item{api_resp_parser_args}{Arguments for the API response parser function.}

\item{api_error_handler}{An API-specific error handler function. More details
to come in a future update to this package.}

\item{api_error_handler_args}{Arguments for the API error handler function.}
}
\value{
The response from the API, parsed by the \code{api_resp_parser}.
}
\description{
This function implements an opinionated framework for making API calls. It is
intended to be used inside an API client package. It serves as a wrapper
around the \code{req_} family of functions, such as \code{\link[httr2:request]{httr2::request()}}.
}
